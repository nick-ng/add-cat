import"../chunks/DsnmJJEf.js";import{i as qt}from"../chunks/DfDamSP_.js";import{p as Kt,o as Ft,l as G,q as Lt,f as b,h as Wt,g as D,b as h,c as zt,$ as Bt,s as o,d as a,i as r,m as v,j as t,r as e,u as c,n as It,v as Qt,a as L,t as M,e as O}from"../chunks/C6Bx9uxh.js";import{i as J}from"../chunks/BbmR1Je_.js";import{s as Tt,e as ot,r as rt}from"../chunks/CBtMWNv9.js";import{b as Vt,a as At}from"../chunks/qdG4mfV0.js";import{g as Zt,r as te}from"../chunks/B4FO3W-e.js";var ee=b("<p>Please upload a hideout.</p>"),ae=b('<tr class="odd-rows"><td class="px-1 border-default"> </td><td class="px-1 border-default text-right"> </td></tr>'),oe=b('<p>Your hideout only has these non-unique decorations:</p> <table><thead><tr><th class="px-1 border-default text-left">Name</th><th class="px-1 border-default text-right">Count</th></tr></thead><tbody></tbody></table>',1),re=b(`<p>Please upload a different hideout. The uploaded hideout doesn't have any suitable
					decorations to replace.</p> <p>Add a decoration where you want the cat in-game, re-export, and re-upload your hideout.</p> <!>`,1),le=b('<li class="even-rows"><label><input type="radio" name="targetDoodad"/> </label></li>'),ie=b('<tr class="odd-rows"><td class="px-1 border-default"> </td><td class="px-1 border-default text-right"> </td></tr>'),se=b(`<details><summary>Duplicate Decorations</summary> <p>You can't choose these because there are multiple of them:</p> <table><thead><tr><th class="px-1 border-default text-left">Name</th><th class="px-1 border-default text-right">Count</th></tr></thead><tbody></tbody></table></details>`),ne=b('<h3 class="mt-1"> </h3> <p>Choose Decoration to Replace</p> <div><ul class="inline-block"></ul> <!></div> <div><h3>Adjust</h3> <table><tbody><tr><td><button class="p0 flex flex-row justify-center items-center w-7 h-7">‚ÜñÔ∏è</button></td><td><button class="p0 flex flex-row justify-center items-center w-7 h-7" disabled>‚¨ÜÔ∏è</button></td><td><button class="p0 flex flex-row justify-center items-center w-7 h-7">‚ÜóÔ∏è</button></td></tr><tr><td><button class="p0 flex flex-row justify-center items-center w-7 h-7" disabled>‚¨ÖÔ∏è</button></td><td><button class="p0 flex flex-row justify-center items-center w-7 h-7">üîÑ</button></td><td><button class="p0 flex flex-row justify-center items-center w-7 h-7" disabled>‚û°Ô∏è</button></td></tr><tr><td><button class="p0 flex flex-row justify-center items-center w-7 h-7">‚ÜôÔ∏è</button></td><td><button class="p0 flex flex-row justify-center items-center w-7 h-7" disabled>‚¨áÔ∏è</button></td><td><button class="p0 flex flex-row justify-center items-center w-7 h-7">‚ÜòÔ∏è</button></td></tr></tbody></table> <table class="my-2"><tbody><tr><td>X</td><td><input class="w-16 text-right" type="number"/></td></tr><tr><td>Y</td><td><input class="w-16 text-right" type="number"/></td></tr></tbody></table></div>',1),de=b('<div><a class="button-default no-underline opaque inline-block">Download (Right-Click, Save As)</a></div>'),ce=b(`<div class="max-w-[130ch] mx-auto"><h1 class="mt-1">Add Cat</h1> <p>This tool will add a "soycat" to your hideout. It will be "centered" on a decoration.</p> <p>Original by SoyCatMod and Alexballe: <a href="https://hideoutshowcase.com/hideout/show/5619/title/Jailed%20SoyCat%20#FreeTheCat" target="_blank">"Jailed SoyCat #FreeTheCat"</a></p> <div class="flex flex-row justify-center mt-2"><div class="basis-prose"><div><label class="button-default inline-block cursor-pointer relative">Upload Hideout <input class="w-0 opacity-0 text-sm text-left block absolute top-0 left-0" type="file" accept=".hideout"/></label></div> <!> <!></div> <div class="basis-prose"><h2>Instructions</h2> <ol class="ml-4 list-decimal"><li>Go into your hideout and put a <em>unique</em> decoration where you want the cat.</li> <li>Export your hideout.</li> <li>Upload your hideout by clicking on the "Upload Hideout" button.</li> <li>Choose the decoration you added in step 1. This decoration will be replaced by a "soycat"</li> <li>Download your new hideout. If that doesn't work, you might have to right-click on the
					button and choose "Save As...". Don't overwrite your original hideout in case you don't
					get what you want.</li> <li>Import your new hideout in Path of Exile. If the cat isn't in the correct position, you
					can move it by clicking on the adjustment buttons. You'll need to download and import your
					hideout to see if the adjustments were enough.</li></ol> <h2>Notes</h2> <ul class="ml-4 list-disc"><li>You can only add one cat at a time. To save time adding more than one: <ol class="ml-4 list-decimal"><li>Add multiple different decorations to your hideout</li> <li>Upload and replace one of them with a cat</li> <li>Upload the new hideout and replace the next one with a cat</li></ol></li></ul> <h2>To Do</h2> <ul class="ml-4 list-disc"><li>Figure out what x and y to use when adjusting vertically/horizontally</li> <li>Add any custom decoration</li> <li>Add multiple cats at once</li></ul></div></div></div>`);function me(Et,jt){Kt(jt,!1);const U=v(),I=v(),g=v(),lt=v(),W=v(),kt=[],it="PUX_ORIGINAL_HIDEOUT",st="PUX_UPLOAD_TIMESTAMP",z="PUX_CHOSEN_DOODAD",nt="PUX_ADJUST_X",dt="PUX_ADJUST_Y";let B=v([]),m=v(""),y=v(""),C=v(0),s=v(0),n=v(0);Ft(()=>{const l=localStorage.getItem(it);l&&(r(m,l),r(y,localStorage.getItem(z)||""),r(C,parseInt(localStorage.getItem(st)||"0",10)),r(s,parseInt(localStorage.getItem(nt)||"0",10)),r(n,parseInt(localStorage.getItem(dt)||"0",10)))}),G(()=>t(m),()=>{r(U,Zt(t(m)))}),G(()=>t(U),()=>{r(I,Object.entries(t(U)).filter(l=>l[1]===1))}),G(()=>t(U),()=>{r(g,Object.entries(t(U)).filter(l=>l[1]>1))}),G(()=>(t(m),t(y),t(s),t(n)),()=>{r(lt,te(t(m),t(y),{x:t(s),y:t(n)}))}),G(()=>t(C),()=>{r(W,new Date(t(C)))}),Lt(),qt();var Q=ce();Wt(l=>{Bt.title="Migrate Hideout"});var ct=o(a(Q),6),ut=a(ct),V=a(ut),ht=a(V),Ot=o(a(ht));e(ht),e(V);var vt=o(V,2);{var Ut=l=>{var u=ee();h(l,u)},Ct=l=>{var u=Qt(),x=L(u);{var Pt=T=>{var Y=re(),$=o(L(Y),4);{var Z=w=>{var A=oe(),N=o(L(A),2),q=o(a(N));ot(q,7,()=>t(g),(E,p)=>`${E}-${p}`,(E,p)=>{var j=ae(),S=a(j),P=a(S,!0);e(S);var K=o(S),F=a(K,!0);e(K),e(j),M(()=>{O(P,(t(p),c(()=>t(p)[0]))),O(F,(t(p),c(()=>t(p)[1])))}),h(E,j)}),e(q),e(N),h(w,A)};J($,w=>{t(g),c(()=>t(g).length>0)&&w(Z)})}h(T,Y)},Ht=T=>{var Y=ne(),$=L(Y),Z=a($);e($);var w=o($,4),A=a(w);ot(A,7,()=>t(I),(d,i)=>`${d}-${i}`,(d,i)=>{var k=le(),H=a(k),_=a(H);rt(_);var f,X=o(_);e(H),e(k),M(()=>{f!==(f=(t(i),c(()=>t(i)[0])))&&(_.value=(_.__value=(t(i),c(()=>t(i)[0])))??""),O(X,`¬†${t(i),c(()=>t(i)[0])??""}`)}),Vt(kt,[],_,()=>(t(i),c(()=>t(i)[0]),t(y)),R=>r(y,R)),D("click",_,()=>{localStorage.setItem(z,t(i)[0])}),h(d,k)}),e(A);var N=o(A,2);{var q=d=>{var i=se(),k=o(a(i),4),H=o(a(k));ot(H,7,()=>t(g),(_,f)=>`${_}-${f}`,(_,f)=>{var X=ie(),R=a(X),Jt=a(R,!0);e(R);var Dt=o(R),Nt=a(Dt,!0);e(Dt),e(X),M(()=>{O(Jt,(t(f),c(()=>t(f)[0]))),O(Nt,(t(f),c(()=>t(f)[1])))}),h(_,X)}),e(H),e(k),e(i),h(d,i)};J(N,d=>{t(g),c(()=>t(g).length>0)&&d(q)})}e(w);var E=o(w,2),p=o(a(E),2),j=a(p),S=a(j),P=a(S),K=a(P);e(P);var F=o(P,2),Xt=a(F);e(F),e(S);var tt=o(S),pt=o(a(tt)),Rt=a(pt);e(pt),It(),e(tt);var _t=o(tt),et=a(_t),Gt=a(et);e(et);var bt=o(et,2),Mt=a(bt);e(bt),e(_t),e(j),e(p);var ft=o(p,2),mt=a(ft),at=a(mt),yt=o(a(at)),gt=a(yt);rt(gt),e(yt),e(at);var xt=o(at),wt=o(a(xt)),St=a(wt);rt(St),e(wt),e(xt),e(mt),e(ft),e(E),M(d=>O(Z,`Uploaded at ${d??""}`),[()=>(t(W),c(()=>t(W).toLocaleString()))]),D("click",K,()=>{r(n,t(n)+1)}),D("click",Xt,()=>{r(s,t(s)+1)}),D("click",Rt,()=>{r(s,0),r(n,0)}),D("click",Gt,()=>{r(s,t(s)-1)}),D("click",Mt,()=>{r(n,t(n)-1)}),At(gt,()=>t(s),d=>r(s,d)),At(St,()=>t(n),d=>r(n,d)),h(T,Y)};J(x,T=>{t(I),c(()=>t(I).length===0)?T(Pt):T(Ht,!1)},!0)}h(l,u)};J(vt,l=>{t(m)?l(Ct,!1):l(Ut)})}var Yt=o(vt,2);{var $t=l=>{var u=de(),x=a(u);e(u),M(()=>{Tt(x,"href",`data:text/plain;charset=utf-8,${t(lt)}`),Tt(x,"download",`with-cat_x${t(s)}_y${t(n)}.hideout`)}),h(l,u)};J(Yt,l=>{t(y),t(I),c(()=>t(y)&&t(I).length>0)&&l($t)})}e(ut),It(2),e(ct),e(Q),D("change",Ot,async l=>{if(r(B,[]),l.currentTarget.files)for(const u of[...l.currentTarget.files])try{r(m,await u.text()),r(y,""),r(C,Date.now()),r(s,0),r(n,0),localStorage.setItem(it,t(m)),localStorage.setItem(z,""),localStorage.setItem(st,t(C).toString(10)),localStorage.setItem(nt,t(s).toString(10)),localStorage.setItem(dt,t(n).toString(10))}catch(x){t(B).push(`Error when loading ${u.name}`),x instanceof Error&&t(B).push(x.message)}}),h(Et,Q),zt()}export{me as component};
